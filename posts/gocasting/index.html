<!doctype html><html lang=en-us><head><title>Converting between types in Go - blog.jksolbakken.no</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The HTML5 Herald"><meta name=author content><meta property="og:url" content="https://blog.jksolbakken.no/posts/gocasting/"><meta property="og:site_name" content="blog.jksolbakken.no"><meta property="og:title" content="Converting between types in Go"><meta property="og:description" content="Converting between types, known as “casting” in some other languages, is done in two different ways in Go: Type Conversions and Type Assertions. These have some distinct differences.
Type Conversions Type conversion simply means changing a non-interface type to another compatible type. The conversion is statically checked by the compiler. The main condition that needs to be satisfied is assignability. In the following example the conversion will fail because the types are not compatible:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-02T20:10:02+01:00"><meta property="article:modified_time" content="2025-03-02T20:10:02+01:00"><meta property="article:tag" content="Go"><meta name=twitter:card content="summary"><meta name=twitter:title content="Converting between types in Go"><meta name=twitter:description content="Converting between types, known as “casting” in some other languages, is done in two different ways in Go: Type Conversions and Type Assertions. These have some distinct differences.
Type Conversions Type conversion simply means changing a non-interface type to another compatible type. The conversion is statically checked by the compiler. The main condition that needs to be satisfied is assignability. In the following example the conversion will fail because the types are not compatible:"><meta name=generator content="Hugo 0.142.0"><link rel=stylesheet href=/css/normalize.min.css><link rel=stylesheet href=https://blog.jksolbakken.no/fontawesome/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=/css/styles.css></head><body><div id=container><header><h1><a href=/>blog.jksolbakken.no</a></h1><ul id=social-media></ul><p><em>Some personal notes, because writing stuff down helps me remember it.</em></p></header><nav><ul></ul></nav><main><article><h1>Converting between types in Go</h1><aside><ul><li><time class=post-date datetime=2025-03-02T20:10:02+01:00>Mar 2, 2025</time></li><li><em><a href=/tags/go>#go</a></em></li><li>One minute read</li></ul></aside><p>Converting between types, known as &ldquo;casting&rdquo; in some other languages, is done in two different ways in Go: <code>Type Conversions</code> and <code>Type Assertions</code>. These have some distinct differences.</p><h3 id=type-conversions>Type Conversions</h3><p>Type conversion simply means changing a non-interface type to another compatible type. The conversion is statically checked by the compiler. The main condition that needs to be satisfied is <a href=https://go.dev/ref/spec#Assignability>assignability</a>. In the following example the conversion will fail because the types are not compatible:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Foo</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;foo&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>Foo</span>(<span style=color:#a6e22e>a</span>)) <span style=color:#75715e>// cannot convert a (type string) to type Foo</span>
</span></span></code></pre></div><p>In this example however, the conversion succeeds:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#66d9ef>uint8</span> = <span style=color:#ae81ff>42</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>id</span> <span style=color:#66d9ef>int64</span> = int64(<span style=color:#a6e22e>x</span>)
</span></span></code></pre></div><h3 id=type-assertions>Type assertions</h3><p>A type assertion asserts (surprise!) that a value v satisfies an interface type T. This is done at runtime. A failed assertion results in a panic, so you should verify it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>thingOfTypeT</span>, <span style=color:#a6e22e>ok</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>v</span>.(<span style=color:#a6e22e>T</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>ok</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// call T-functions on thingOfTypeT</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></article><section class=post-nav><ul><li><a href=https://blog.jksolbakken.no/posts/trustedtypes/><i class="fa fa-chevron-circle-left"></i> Trusted types</a></li><li></li></ul></section></main><footer><ul><li><h6>Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://blog.jksolbakken.no/index.xml>Subscribe</a></h6></li></ul></footer></div><script src=/js/scripts.js></script></body></html>